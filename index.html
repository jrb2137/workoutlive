<html>
<head>
  <script>
    /* Warning: all the code on this page is very sloppy! caveat emptor */
    /* configuration */
    var SPREADSHEET_ID = '1efPLPppoqbyTODRps6By89Msy-m2aDJ1fdrggsBLGIk';
    var REGISTER_FORM_URL =
      'https://docs.google.com/forms/d/e/1FAIpQLSeMcjm3_RjhNfOMBFkHYrn-R9iMijbBBil2cud4Bki2-sn2qQ/viewform';
    var SHEET = [];
    var JSON_URL = `https://spreadsheets.google.com/feeds/cells/${SPREADSHEET_ID}/1/public/full?alt=json`;

    const parseSheetResult = result => {
      let colMap = {
        '1': 'session_instructor',
        '2': 'session_date',
        '3': 'session_time',
        '4': 'session_duration',
        '5': 'instagram_handle',
        '6': 'venmo_username',
        '7': 'session_title',
        '8': 'session_type',
        '12': 'session_business'
      };
      var rows = [];
      result.feed.entry.map(e => {
        let rowNum = parseInt(e['gs$cell'].row, 10);
        while (rows.length < rowNum) {
          rows.push({});
        }
        let rowIndex = rowNum - 1;
        let colNum = e['gs$cell'].col;
        let key = colMap[colNum];
        let cellValue = e['gs$cell']['$t'];
        rows[rowIndex][key] = cellValue;
      });
      return rows;
    };

    function getHour(time) {
      var time_array = time.split(":");

      var hour = time_array[0];
      var minute_and_am_or_pm = time_array[1];

      var last_index = minute_and_am_or_pm.length ;
      var am_or_pm = minute_and_am_or_pm.substring(last_index-2, last_index);
      hour = parseInt(hour, 10);
      if(am_or_pm == 'PM' && hour != 12) {
        hour = hour + 12;
      }
      return hour;
    }

    function getMinute(time) {
      var time_array = time.split(":");
      var minute_and_am_or_pm = time_array[1];

      var last_index = minute_and_am_or_pm.length ;
      var minute = minute_and_am_or_pm.substring(0, last_index-3);
      return minute;
    }

    var dates = {
    convert:function(d) {
        // Converts the date in d to a date-object. The input can be:
        //   a date object: returned without modification
        //  an array      : Interpreted as [year,month,day]. NOTE: month is 0-11.
        //   a number     : Interpreted as number of milliseconds
        //                  since 1 Jan 1970 (a timestamp)
        //   a string     : Any format supported by the javascript engine, like
        //                  "YYYY/MM/DD", "MM/DD/YYYY", "Jan 31 2009" etc.
        //  an object     : Interpreted as an object with year, month and date
        //                  attributes.  **NOTE** month is 0-11.
        return (
            d.constructor === Date ? d :
            d.constructor === Array ? new Date(d[0],d[1],d[2]) :
            d.constructor === Number ? new Date(d) :
            d.constructor === String ? new Date(d) :
            typeof d === "object" ? new Date(d.year,d.month,d.date) :
            NaN
        );
    },
    compare:function(a,b) {
        // Compare two dates (could be of any type supported by the convert
        // function above) and returns:
        //  -1 : if a < b
        //   0 : if a = b
        //   1 : if a > b
        // NaN : if a or b is an illegal date
        // NOTE: The code inside isFinite does an assignment (=).
        return (
            isFinite(a=this.convert(a).valueOf()) &&
            isFinite(b=this.convert(b).valueOf()) ?
            (a>b)-(a<b) :
            NaN
        );
    },
    inRange:function(d,start,end) {
        // Checks if date in d is between dates in start and end.
        // Returns a boolean or NaN:
        //    true  : if d is between start and end (inclusive)
        //    false : if d is before start or after end
        //    NaN   : if one or more of the dates is illegal.
        // NOTE: The code inside isFinite does an assignment (=).
       return (
            isFinite(d=this.convert(d).valueOf()) &&
            isFinite(start=this.convert(start).valueOf()) &&
            isFinite(end=this.convert(end).valueOf()) ?
            start <= d && d <= end :
            NaN
        );
    }
}

    function drawTable(sheet, date) {
      let t = document.getElementById('sheet');
      t.innerHTML = '';
      if(date == null) {
        date = new Date();
      }
      var dd = String(date.getDate());
      var mm = String(date.getMonth() + 1); //January is 0, so need to add 1!
      var yyyy = date.getFullYear();

      date = mm + '/' + dd + '/' + yyyy;

      var sheet_date_selected = sheet.filter(row => row.session_title != 'Title of Session' && !!row.session_title && row.session_date == date);


      var now = new Date();
      //now = new Date(yyyy, mm-1, dd, getHour("7:00 PM"), getMinute("7:00 PM")); //TODO Delete this

      //sheet_date_selected = sheet_date_selected.filter(row => dates.compare(now, new Date(yyyy, mm-1, dd, getHour(row.session_time), getMinute(row.session_time))) == -1);
      sheet_date_selected = sheet_date_selected.filter(function(row) {
        var session_date_object = new Date(yyyy, mm-1, dd, getHour(row.session_time), getMinute(row.session_time));
        session_duration = parseInt(row.session_duration, 10);
        var session_end_date_time = new Date(session_date_object.getTime() + session_duration*60000);
        if(dates.compare(now, session_end_date_time) == -1) {
          return true;
        }
        else {
          return false;
        }
      });

      //var a_date = new Date(yyyy, mm, dd, getHour(a.session_time), getMinute(a.session_time));



      sheet_date_selected
      .sort((a, b) => {
        var a_date = new Date(yyyy, mm, dd, getHour(a.session_time), getMinute(a.session_time));
        var b_date = new Date(yyyy, mm, dd, getHour(b.session_time), getMinute(b.session_time));

        return dates.compare(a_date, b_date);
      })
      .map((row, i) => {


          var testDate = new Date(yyyy, mm-1, dd, getHour(row.session_time), getMinute(row.session_time))


          let outer = document.createElement('div');
          outer.className = `place_pill`;
          /*var instructor_name;
          var class_date;
          var class_time;
          var class_duration;
          var instagram_handle;
          var venmo_username;
          var session_title;
          var session_type;*/

          ['session_instructor', 'session_date', 'session_time', 'session_duration', 'instagram_handle', 'venmo_username', 'session_title', 'session_type'].map(k => {
            let div = document.createElement('div');
            div.className = `div_content_${k}`;
            div.innerHTML = "row: " + i + ", column:  " + k + ", value: " + row[k];

          });
          var instructor_string;
          if(row['session_instructor'] != null && row['venmo_username'] != null) {
            instructor_string = `${row['session_instructor']}<br>Venmo: <a href="http://venmo.com/${row['venmo_username']}">@${row['venmo_username']}</a>`;
          }
          else {
            instructor_string = `${row['session_instructor']}`;
          }

          instagram_handle_display = row['instagram_handle'];
          if(instagram_handle_display != null && instagram_handle_display.length >= 10 ) {
            instagram_handle_display = instagram_handle_display.substring(0,9) + "...";
          }

          var date_object = new Date(yyyy, mm-1, dd, getHour(row.session_time), getMinute(row.session_time));
          duration = parseInt(row.session_duration, 10);
          var endDate = new Date(date_object.getTime() + duration*60000);
          endTime = endDate.toLocaleString();
          endTime = endTime.replace(',', '');



          //gcal_date = yyyy + pad(mm,2) + pad(dd,2);
          //console.log('gcal_date: ' + gcal_date);
          //gcal_start_time = pad(getHour(row.session_time),2) + getMinute(row.session_time) + "00";
          //console.log('gcal_start_time: ' + gcal_start_time)

          //gcal_date_start_time = gcal_date + "T" + gcal_start_time;
          //gcal_date_end_time = gcal_date + "T" + endTime;

          var date_object = new Date(yyyy, mm-1, dd, getHour(row.session_time), getMinute(row.session_time));
          duration = parseInt(row.session_duration, 10);
          var endDate = new Date(date_object.getTime() + duration*60000);



          var outer_html =  `\
          <div class="top_section">\
            <div class="time">\
              <div>${row['session_time']}</div>\
              <div class="duration">(${row['session_duration']})</div>`;

          if(dates.compare(now, date_object) >= 0) //if the start time has already passed
          {
              outer_html = outer_html + `<div class="live"><img src="assets/live.png" style="width:50px;"></div>`;
          }
          outer_html = outer_html + `\
            </div>\
            <div class="class_details">\
              <div class="spacing class_type">${row['session_type']}</div>\
              <div class="spacing class_name">${row['session_title']}</div>`;
          if(row['session_business'] != null) {
            outer_html = outer_html + `<div class="spacing class_provider">${row['session_business']}</div>`;
          }

          if(instructor_string != null && instructor_string != "undefined") {
            outer_html = outer_html + `<div class="spacing class_instructor">${instructor_string}</div>`;
          }
          outer_html = outer_html + `\
            </div>\
          </div>\
          <div class="bottom_section">\
            <div class="instagram_pill">\
              <a target="_blank" href="http://instagram.com/${row['instagram_handle']}">\
                <img src="https://instagram-brand.com/wp-content/uploads/2016/11/Instagram_AppIcon_Aug2017.png" width="18px;">@${instagram_handle_display}\
              </a>\
            </div>\
            <div class="cal_icon">\
            \
                <div title="Add to Calendar" class="addeventatc" data-styling="none">\
                  <img src="gfx/icon-calendar-t1.svg" alt="" style="width:18px; vertical-align:middle;" />\
                  <span style="font-size:12px; vertical-align:middle; font-family:'Lato', sans-serif">Add to Cal</span>
                  <span class="start">${date} ${row['session_time']}</span>\
                  <span class="end">${endTime}</span>\
                  <span class="timezone">America/New_York</span>\
                  <span class="title">${row['session_title']}</span>\
                  <span class="description">${row['session_title']} \n ${row['session_business']} \n ${row['session_instructor']}</span>\
                  <span class="location">Location of the event</span>\
              </div>\
            \
            </div>\
          </div>`;
          outer.innerHTML = outer_html;
          t.appendChild(outer);
        });
        if(sheet_date_selected.length == 0) {
          t.innerHTML = '<div style="margin-top:10px; margin-left:14px;">No classes found for this date.</div>';
        }
    }

    const onBodyLoad = () => {
      $.ajax(JSON_URL).done(function(result) {
        SHEET = parseSheetResult(result);
        //drawTable(SHEET);
        var today = new Date();
        month = today.getMonth();
        day = today.getDate();
        year = today.getFullYear();
        CURRENTLY_SELECTED_MONTH = month;
        CURRENTLY_SELECTED_YEAR = year;
        changeDay(year, month, day);
      });
    };


var months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
var startYear = 2000;
var endYear = 2020;
var month = 0;
var year = 0;
var CURRENTLY_SELECTED_DAY_INDEX = 0;
var CURRENTLY_SELECTED_MONTH;
var CURRENTLY_SELECTED_YEAR;
var IS_USER_ON_CHROME_AND_IOS;

function loadCalendarMonths() {
    for (var i = 0; i < months.length; i++) {
        var doc = document.createElement("div");
        doc.innerHTML = months[i];
        doc.classList.add("dropdown-item");

        doc.onclick = (function () {
            var selectedMonth = i;
            return function () {
                month = selectedMonth;
                document.getElementById("curMonth").innerHTML = months[month];
                loadCalendarDays();
                return month;
            }
        })();

        //document.getElementById("months").appendChild(doc);
    }
    displayCurrentMonthAndYear();

}

function displayCurrentMonthAndYear() {
  //document.getElementById("selected_month").innerHTML = months[month] + " " + year; //TODO change this
}

function switchToPreviousMonth() {
  if(CURRENTLY_SELECTED_MONTH > 0) {
    CURRENTLY_SELECTED_MONTH = CURRENTLY_SELECTED_MONTH - 1;
  }
  else {
    CURRENTLY_SELECTED_MONTH = 11;
    CURRENTLY_SELECTED_YEAR = CURRENTLY_SELECTED_YEAR-1;
  }

  CURRENTLY_SELECTED_DAY_INDEX = daysInMonth(CURRENTLY_SELECTED_MONTH, CURRENTLY_SELECTED_YEAR) - 1;
  console.log("Just switched to previous month, CURRENTLY_SELECTED_MONTH: " + CURRENTLY_SELECTED_MONTH + ", CURRENTLY_SELECTED_YEAR: " + CURRENTLY_SELECTED_YEAR + ", CURRENTLY_SELECTED_DAY_INDEX" + CURRENTLY_SELECTED_DAY_INDEX);

  //displayCurrentMonthAndYear();
  //loadCalendarDays(1);
  //changeDay(year, month, 1);
}

function switchToNextMonth() {
  if(CURRENTLY_SELECTED_MONTH < 11) {
    CURRENTLY_SELECTED_MONTH = CURRENTLY_SELECTED_MONTH + 1;
  }
  else {
    CURRENTLY_SELECTED_MONTH = 0;
    CURRENTLY_SELECTED_YEAR = CURRENTLY_SELECTED_YEAR+1;
  }
  CURRENTLY_SELECTED_DAY_INDEX = 0;
  //displayCurrentMonthAndYear();
  //loadCalendarDays(1);
  //changeDay(year, month, 1);
}

function switchToNextWeek() {
  day = CURRENTLY_SELECTED_DAY_INDEX+1;
  date = new Date(CURRENTLY_SELECTED_YEAR, CURRENTLY_SELECTED_MONTH, day);
  var sundayOfPreviousWeek = new Date();
  date.setDate(date.getDate() - date.getDay() + 7); // switch date to be the sunday of the next week

  loadCalendarDays(date.getFullYear(), date.getMonth(), date.getDate());
  changeDay(date.getFullYear(), date.getMonth(), date.getDate());//TODO: change this b/c this assumes that currently_selecte_day is the last day, bu really we want to pass in the sunday day +1.
}

function switchToPreviousWeek() {
  day = CURRENTLY_SELECTED_DAY_INDEX+1;
  date = new Date(CURRENTLY_SELECTED_YEAR, CURRENTLY_SELECTED_MONTH, day);
  console.log("in switchToPreviousWeek, currently selected date: " + date);
  console.log("in switchToPreviousWeek, currently selected date.getDate(): " + date.getDate());
  console.log("in switchToPreviousWeek, currently selected date.getDay(): " + date.getDay());
  date.setDate(date.getDate() - (date.getDay()+1)); // switch date to be the saturday of the previous week
  console.log("in switchToPreviousWeek, sundayOfPreviousWeek: " + date);

  loadCalendarDays(date.getFullYear(), date.getMonth(), date.getDate());
  changeDay(date.getFullYear(), date.getMonth(), date.getDate());//TODO: change this b/c this assumes that currently_selecte_day is the last day, bu really we want to pass in the sunday day +1.
}

function loadCalendarYears() {
    //document.getElementById("years").innerHTML = "";

    for (var i = startYear; i <= endYear; i++) {
        var doc = document.createElement("div");
        doc.innerHTML = i;
        doc.classList.add("dropdown-item");

        doc.onclick = (function () {
            var selectedYear = i;
            return function () {
                year = selectedYear;
                document.getElementById("curYear").innerHTML = year;
                loadCalendarDays();
                return year;
            }
        })();

        //document.getElementById("years").appendChild(doc);
    }
}

function loadCalendarDays(the_year, the_month, the_date) {
    var date = new Date(the_year, the_month, the_date);

    document.getElementById("calendarDays").innerHTML = "";
    var beginning_i = date.getDate() - date.getDay() - 1;
    console.log("begining_i: " + beginning_i);

    if(beginning_i < 0) {
      var tmpDate = new Date(the_year, the_month, 0);
      var num = daysInMonth(the_month, the_year);
      var dayofweek = tmpDate.getDay();       // find where to start calendar day of week
      var earlierMonth;
      var earlierYear;
      if(the_month > 0) {
        earlierMonth = the_month - 1;
        earlierYear = the_year;
      }
      else {
        earlierMonth = 11;
        earlierYear = the_year - 1;
      }

      var num_days = daysInMonth(earlierMonth, earlierYear);
      var num_days_index = num_days - 1;
      var lastDateEarlierMonth = new Date(earlierYear, earlierMonth, num_days);
      var sunday_date = num_days - lastDateEarlierMonth.getDay();
      var sunday_date_index = sunday_date - 1;

      for (var i = sunday_date_index; i < num_days; i++) {
          //start
          var tmp = i + 1;
          var d = document.createElement("div");
          d.id = "calendarday_" + i;
          d.className = "day";
          d.innerHTML = tmp;


          d.onclick = (function () {
              var selectedDay = i;
              return function () {
                  day = selectedDay + 1;
                  //document.getElementById("curMonth").innerHTML = months[month];
                  changeDay(earlierYear, earlierMonth, day);
                  return day;
              }
          })();

          document.getElementById("calendarDays").appendChild(d);
          //END
      }

      for(var i = 0; i < beginning_i + 7; i++) {
        var tmp = i + 1;
        var d = document.createElement("div");
        d.id = "calendarday_" + i;
        d.className = "day";
        d.innerHTML = tmp;


        d.onclick = (function () {
            var selectedDay = i;
            return function () {
                day = selectedDay + 1;
                //document.getElementById("curMonth").innerHTML = months[month];
                changeDay(the_year, the_month, day);
                return day;
            }
        })();

        document.getElementById("calendarDays").appendChild(d);
      }
    }
    else {
      var end_date = daysInMonth(the_month, the_year);
      var showNextMonthDays;
      if(beginning_i+7 <= end_date) {
        end_date = beginning_i+7;
        showNextMonthDays = false;
      }
      else {
        showNextMonthDays = true;
      }
      for (var i = beginning_i; i < end_date; i++) {
        var tmp = i + 1;
        var d = document.createElement("div");
        d.id = "calendarday_" + i;
        d.className = "day";
        d.innerHTML = tmp;


        d.onclick = (function () {
            var selectedDay = i;
            return function () {
                day = selectedDay + 1;
                //document.getElementById("curMonth").innerHTML = months[month];
                changeDay(the_year, the_month, day);
                return day;
            }
        })();

        document.getElementById("calendarDays").appendChild(d);
      }

      //start

      if(showNextMonthDays)
      {
        console.log("showNextMonthDays: " + showNextMonthDays);
        var nextMonth;
        var nextYear;
        console.log("month: " + the_month);
        console.log("year: " + the_year);
        if(the_month < 11) {
          nextMonth = the_month + 1;
          nextYear = the_year;
        }
        else {
          nextMonth = 0;
          nextYear = the_year + 1;
        }
        var firstDateNextMonth = new Date(nextYear, nextMonth, 1);
        console.log("nextMonth: " + nextMonth);
        console.log("nextYear: " + nextYear);

        var endIndex = firstDateNextMonth.getDate() - firstDateNextMonth.getDay() + 6;
        for (var i = 0; i < endIndex; i++) {
          var tmp = i + 1;
          var d = document.createElement("div");
          d.id = "calendarday_" + i;
          d.className = "day";
          d.innerHTML = tmp;


          d.onclick = (function () {
              var selectedDay = i;
              return function () {
                  day = selectedDay + 1;
                  //document.getElementById("curMonth").innerHTML = months[month];
                  changeDay(nextYear, nextMonth, day);
                  return day;
              }
          })();

          document.getElementById("calendarDays").appendChild(d);
        }
      }


      //END


    }
    /*for (var i = 0; i < num; i++) {
        var tmp = i + 1;
        var d = document.createElement("div");
        d.id = "calendarday_" + i;
        d.className = "day";
        d.innerHTML = tmp;


        d.onclick = (function () {
            var selectedDay = i;
            return function () {
                day = selectedDay + 1;
                //document.getElementById("curMonth").innerHTML = months[month];
                changeDay(day);
                return day;
            }
        })();

        document.getElementById("calendarDays").appendChild(d);
    }*/

    var clear = document.createElement("div");
    clear.className = "clear";
    document.getElementById("calendarDays").appendChild(clear);
}

function changeDay(the_year, the_month, the_day) {
  var date = new Date(the_year, the_month, the_day);
  document.getElementById("selected_day").innerHTML = getDayOfWeek(date) + " " + getMonth(date) + " " + the_day + ", " + the_year;
  document.getElementById("selected_month").innerHTML = getMonth(date) + " " + the_day + ", " + the_year;
  drawTable(SHEET, date);
  var currently_selected_day_div = document.getElementById("calendarday_" + CURRENTLY_SELECTED_DAY_INDEX);
  if(currently_selected_day_div != null) {
    currently_selected_day_div.className = "day";
  }
  if(document.getElementById("calendarday_" + (the_day - 1)) != null) {
    document.getElementById("calendarday_" + (the_day - 1)).className = "day_selected";
  }
  CURRENTLY_SELECTED_DAY_INDEX = the_day - 1;
  CURRENTLY_SELECTED_MONTH = the_month;
  CURRENTLY_SELECTED_YEAR = the_year;


}

function getDayOfWeek(date) {
  const dayOfWeek = new Date(date).getDay();
  return isNaN(dayOfWeek) ? null :
    ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'][dayOfWeek];
}

function getMonth(date) {
  const monthNames = ["January", "February", "March", "April", "May", "June",
  "July", "August", "September", "October", "November", "December"];

  return monthNames[date.getMonth()];
}

function daysInMonth(month, year)
{
    var d = new Date(year, month+1, 0);
    return d.getDate();
}

function pad(n, width, z) {
  z = z || '0';
  n = n + '';
  return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
}

window.addEventListener('load', function () {
    var date = new Date();
    CURRENTLY_SELECTED_MONTH = date.getMonth();
    CURRENTLY_SELECTED_YEAR = date.getFullYear();
    date_num = date.getDate();

    loadCalendarMonths();
    loadCalendarYears();
    loadCalendarDays(CURRENTLY_SELECTED_YEAR, CURRENTLY_SELECTED_MONTH, date_num);
});



  </script>
  <!-- AddEvent theme css -->
  <link rel="stylesheet" href="css/theme8.css" type="text/css" media="screen" />

  <!-- AddEvent -->
  <script type="text/javascript" src="https://addevent.com/libs/atc/1.6.1/atc.min.js"></script>

  <style type="text/css">
    .material-icons {
      font-family: 'Material Icons';
      font-weight: normal;
      font-style: normal;
      font-size: 24px; /* Preferred icon size */
      display: inline-block;
      line-height: 1;
      text-transform: none;
      letter-spacing: normal;
      word-wrap: normal;
      white-space: nowrap;
      direction: ltr;

      /* Support for all WebKit browsers. */
      -webkit-font-smoothing: antialiased;
      /* Support for Safari and Chrome. */
      text-rendering: optimizeLegibility;

      /* Support for Firefox. */
      -moz-osx-font-smoothing: grayscale;

      /* Support for IE. */
      font-feature-settings: 'liga';
    }
    body {
      font-family: 'Lato', sans-serif;
      background-color: #dae5f2;
      box-sizing: border-box;
}


    /* BEGIN CALENDAR CSS */
.calendar
{

    padding: 20px;
    background-color: #ffffff;

    padding:20px;
    margin-bottom:20px;
}

.calendar .dropdown
{
    display: none;
    position: absolute;
    background-color: #fff;
    color: #123456;
    text-align: center;
    font-size: 14pt;
    padding-top: 5px;
    padding-bottom: 5px;
    padding-left: 30px;
    padding-right: 30px;
    width: 160px;
    left: 0px;
    z-index: 2000;
}

.calendar .dropdown .dropdown-item
{
    cursor:pointer;
    opacity: .7;
    transition: .5s opacity;
}

.calendar .dropdown .dropdown-item:hover
{
    opacity: 1;
}

.calendar .years
{
    display:none;
}

.calendar .title
{
    text-align:center;
    font-size:20pt;
}

.calendar .calendar-btn
{
    float: left;
    background-color: #123456;
    color: white;
    text-align: center;
    font-size: 14pt;
    padding-top: 5px;
    padding-bottom: 5px;
    position: relative;
    width: 20%;
    cursor: pointer;
    transition: .5s background-color;
}

.calendar .calendar-btn:hover{
    background-color:#1f71a1;
}

.calendar .year-btn
{
    float:right;
}

.day_selected {
  background-color:#123456;
  cursor:pointer;
  float:left;
  width: 12%;
  margin: 1%;
  padding: 1%;
  font-size:13pt;
  text-align:center;
  border-radius: 10px;
  color:white;
}

.calendar .calendar-dates .days .day
{
    cursor:pointer;
    float:left;
    width: 12%;
    margin: 1%;
    padding: 1%;
    font-size:13pt;
    text-align:center;
    border-radius: 10px;
    /*border: solid 1px #ddd;*/
    /*background-color:#fff*/
}

.calendar .calendar-dates .days .day.blank
{
    background-color: white;
    border:none;
}

.calendar .calendar-dates .days .day.selected
{
    background-color: #123456;
    color: white;
    cursor:pointer;
    opacity: .5;
    transition: .5s opacity;
}

.calendar .calendar-dates .days .day.selected:hover
{
    opacity: 1;
}

.calendar .calendar-dates .days .day.label
{
    height: 28px;
    background-color: white;
    color: black;
    border:none;
    font-weight:bold;
    font-size:12px;
}

.days {
  //background-color:#fff;
}

.clear{
    clear:both;
}

/*@media only screen and (max-width: 960px) {
    .calendar{
        width: 100%;
        margin: 0px;
        margin: 0px;
        box-sizing: border-box;
        position: relative;
        left: 0px;
    }*/
}
    /* END CALENDAR CSS */




    .nav {
      text-align: center;
      padding: 4px;
      font-size: 14px;
    }

    .spacing {
      padding:1px;
    }

    .nav a {
      display: inline-block;
      margin: 0 4px;
    }
    a,
    a:visited,
    a:active {
      color: #457b9d;
    }


    .place_pill {
      padding: 12px;
      padding-right:0px;
      background: #fff;
      border-bottom:1px #f0f0f0 solid;
      /* box-shadow: 1px 1px 1px #eee; */
    }


    .top_section {
      clear:both;
      text-align:center;
      display:table-cell;
      width:100%;
      margin-bottom:5px;
    }

    .time {
      display: table-cell;
      vertical-align:top;
      width: 66px;
      text-align:left;
      font-size:14px;
    }

    .class_details {
      display: table-cell;
      vertical-align:top;
      text-align:left;
    }

    .bottom_section {


      display: table-cell;
      width:100%;
      vertical-align:top;
    }

    .instagram_pill {
      display: table-cell;
      vertical-align:middle;
    }

    .instagram_pill a {
      text-decoration: none;
      background: #F0F0F0;
      border: 1px solid #F0F0F0;
      padding: 5px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      color: #000;
      font-size:12px;
      word-wrap:break-word;
      margin-right:15px;
      width:115px;
    }

    .instagram_pill img {
      margin-right:10px;
    }

    .cal_icon {

      vertical-align:middle;
      width: 115px;
      background: #F0F0F0;
      border-radius:10px;
      padding:5px;
      margin-top:5px;
    }

    .cal_icon a {
      text-decoration: none;
      display: flex;
      align-items: center;
      color: #000;
    }

    .cal_icon img {
      margin-right:10px;
    }
    .gofundme_pill {
      margin: 20px 0px;
    }

    .gofundme_pill a {
      text-decoration: none;
      background: rgb(0, 195, 103);
      border: 1px solid rgb(0, 195, 103);
      padding: 15px;
      border-radius: 4px;
      display: flex;
      align-items: center;
      color: white;
    }

    .gofundme_pill img {
      margin-right: 10px;
    }

    .lucky_pill {
      margin: 20px 0px;
    }

    .lucky_pill a {
      text-decoration: none;
      background: #F28F3B;

      padding: 20px;
      border-radius: 4px;
      display: flex;
      align-items: center;
      color: white;
    }

    ol {
      list-style: none;
      padding-left: 2rem;
      counter-reset: circle-counter;
    }

    ol li {
      counter-increment: circle-counter;
    }
    ol li:before {
      border: 1px solid black;
      content: counter(circle-counter);
      width: 1.5rem;
      height: 1.5rem;
      position: absolute;
      border-radius: 4px;
      text-align: center;
      line-height: 1.5rem;
      margin-left: -2rem;
    }

    #header {
    background-color: #fff123;
    width:100%;
}

.class_type {
  font-size:10px;
  text-transform: uppercase;
}

.class_name {
  font-size:14px;
  font-weight:bold;
}

.class_provider {
  font-size:12px;
  color:gray;
}

.class_instructor {
  font-size:12px;
  color:gray;
}

.class_instructor_venmo {
  font-size:10px;
  color:gray;
}

.duration {
  color:gray;
}

.button {
    white-space: nowrap;
    padding:22px;
}
.selected_day {
  font-size:24px;
  margin:14px;
  margin-top:24px;
}
</style>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
  <link rel="stylesheet" href="https://unpkg.com/tachyons@4.10.0/css/tachyons.min.css" />
</head>

<body onload="onBodyLoad();">
  <div class="mw7 center">
    <div style="border-bottom:1px #6696CC solid; padding:10px; padding-bottom:26px;">
      <div style="font-size:30px; margin-top:20px; font-weight:bold"><img src ="./assets/goinglivelogo.png" style="width:140px;" /></div>
    </div>


  <div class="fl w-100 pt10" style="margin-top:15px">

<!-- START CALENDAR CODE -->

<div class="calendar" id="calendar" style="">

    <div style="padding:8px; color:black; vertical-align:middle; display:table; width:100%">
        <div id="selected_month" style="display:table-cell; vertical-align:middle; text-align:center;"></div>
    </div>
    <div style="display:table; width:100%">
      <div style="display:table-cell; text-align:left; cursor:pointer; width:35px; vertical-align:middle;" onClick="switchToPreviousWeek();"><img src="https://www.iedparis8.net/static/djangocms_admin_style/fonts/src/chevron-left.svg" style="width:25px;" /></div>
      <div style="display:table-cell">
        <div class="calendar-dates">
            <div class="days">
                <div class="day label">S</div>
                <div class="day label">M</div>
                <div class="day label">T</div>
                <div class="day label">W</div>
                <div class="day label">T</div>
                <div class="day label">F</div>
                <div class="day label">S</div>

                <div class="clear"></div>
            </div>

            <div id="calendarDays" class="days">
            </div>
        </div>
      </div>
      <div style="display:table-cell; text-align:right; cursor:pointer; width:35px; vertical-align:middle;" onClick="switchToNextWeek();"><img src="https://www.iedparis8.net/static/djangocms_admin_style/fonts/src/arrow-right.svg" style="width:25px;" /></div>
    </div>




    <div class="clear"></div>


</div>

<!-- END Calendar code -->

    <div class="selected_day" id="selected_day"></div>

    <div id="sheet" style="margin-bottom:15px;"></div>

    <!--
    <div class="place_pill">
      <div class="time">
        <div>10:00am</div>
        <div class="duration">(45 min)</div>
      </div>
      <div class="class_details">
        <div class="spacing class_type">YOGA</div>
        <div class="spacing class_name">Yoga Fundamentals</div>
        <div class="spacing class_provider">Yoga to the People</div>
        <div class="spacing class_instructor">Ashley Jones</div>
        <div class="spacing class_instructor_venmo">Venmo: <a href="">@ashleyjones</a></div>
      </div>

      <div class="bottom_section">
        <div class="instagram_pill">
          <a target="_blank" href="http://venmo.com/nowahelp">
            <img src="https://instagram-brand.com/wp-content/uploads/2016/11/Instagram_AppIcon_Aug2017.png" width="28px;">@test
          </a>
        </div>

        <div class="cal_icon">
          <a target="_blank" href="http://venmo.com/nowahelp">
            <img src="https://static.thenounproject.com/png/48021-200.png" />
          </a>
        </div>

      </div>
    </div>

    <div class="place_pill">
      <div class="time">
        <div>10:00am</div>
        <div class="duration">(45 min)</div>
      </div>
      <div class="class_details">
        <div class="spacing class_type">YOGA</div>
        <div class="spacing class_name">Yoga Fundamentals</div>
        <div class="spacing class_provider">Yoga to the People</div>
        <div class="spacing class_instructor">Ashley Jones</div>
        <div class="spacing class_instructor_venmo">Venmo: <a href="">@ashleyjones</a></div>
      </div>

      <div class="bottom_section">
        <div class="instagram_pill">
          <a target="_blank" href="http://venmo.com/nowahelp">
            <img src="https://instagram-brand.com/wp-content/uploads/2016/11/Instagram_AppIcon_Aug2017.png" width="28px;">@test
          </a>
        </div>

        <div class="cal_icon">
          <a target="_blank" href="http://venmo.com/nowahelp">
            <img src="https://static.thenounproject.com/png/48021-200.png" />
          </a>
        </div>

      </div>
    </div>-->


</div>
<script
  type="text/javascript"
  src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"
></script>
</body></html>
